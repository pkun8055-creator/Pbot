<style>
/* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³å…¨ä½“ã®ã‚«ãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ */
.status-section {
  background: var(--card);
  padding: 35px;
  border-radius: 24px;
  margin-bottom: 30px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.3);
  border: 1px solid rgba(255,255,255,0.03);
  text-align: center;
}

.status-section h2 {
  margin-top: 0;
  margin-bottom: 25px;
  color: var(--accent);
  font-size: 1.5rem;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
}

/* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºãƒœãƒƒã‚¯ã‚¹ */
.status-box {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 12px 25px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 50px;
  font-weight: bold;
  font-size: 1.1rem;
  margin-bottom: 30px;
  border: 1px solid rgba(255, 255, 255, 0.05);
  transition: all 0.3s ease;
}

/* ç¨¼åƒä¸­ï¼ˆã‚ªãƒ³ãƒ©ã‚¤ãƒ³ï¼‰ã®æ™‚ã®å…‰ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
.status-online {
  color: #22c55e;
  text-shadow: 0 0 10px rgba(34, 197, 94, 0.5);
  animation: pulse-green 2s infinite;
}

@keyframes pulse-green {
  0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4); }
  70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
  100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
}

/* ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã®æ™‚ */
.status-offline {
  color: #ef4444;
  text-shadow: 0 0 10px rgba(239, 68, 68, 0.5);
}

/* Discordã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®èª¿æ•´ */
iframe.discord-widget {
  border: none;
  border-radius: 12px;
  box-shadow: 0 10px 20px rgba(0,0,0,0.2);
  max-width: 100%; /* ã‚¹ãƒãƒ›å¯¾å¿œ */
}
</style>

<section class="status-section">
  <h2><i class="fas fa-signal"></i> ã´ãƒ¼bot ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</h2>

  <div id="bot-status" class="status-box">
    çŠ¶æ…‹ã‚’ç¢ºèªä¸­...
  </div>

  <br>

  <iframe 
    class="discord-widget"
    src="https://discord.com/widget?id=1474924120406888470&theme=dark" 
    width="350" 
    height="500" 
    allowtransparency="true" 
    frameborder="0">
  </iframe>
</section>

<script>
const BOT_NAME = "ã´ãƒ¼bot"; // BOTã®åå‰
const GUILD_ID = "1297833075677593641"; // ã‚µãƒ¼ãƒãƒ¼ID

async function checkBot() {
  try {
    const res = await fetch(`https://discord.com/api/guilds/${GUILD_ID}/widget.json`);
    const data = await res.json();

    const members = data.members;
    // username ã ã‘ã§ãªãã€nick (ã‚µãƒ¼ãƒãƒ¼å†…ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ) ã‚‚å«ã‚ã¦æ¢ã™ã‚ˆã†ã«å¼·åŒ–
    const bot = members.find(m => 
      (m.username && m.username.includes(BOT_NAME)) || 
      (m.nick && m.nick.includes(BOT_NAME))
    );

    const statusBox = document.getElementById("bot-status");

    if (bot && bot.status === "online") {
      statusBox.innerHTML = "ğŸŸ¢ ç¨¼åƒä¸­";
      statusBox.className = "status-box status-online";
    } else {
      statusBox.innerHTML = "ğŸ”´ ã‚ªãƒ•ãƒ©ã‚¤ãƒ³";
      statusBox.className = "status-box status-offline";
    }
  } catch (e) {
    document.getElementById("bot-status").innerHTML = "âš ï¸ å–å¾—å¤±æ•—";
    document.getElementById("bot-status").style.color = "#94a3b8";
  }
}

checkBot();
setInterval(checkBot, 30000); // 30ç§’ã”ã¨æ›´æ–°
</script>
